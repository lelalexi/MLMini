name: CICD Demo
on:
    pull_request:
     branches:
      - [ "master" ]

jobs: 
    build-and-test:
    runs-on: macos-latest
 
    steps: 
        - name: Checkout repository
          uses: actions/checkout@v2

        - name: Select Xcode
          run: sudo Xcode-select -switch /Applications/Xcode_13.2.1.app

        - name: Build And Test
          run: xcodebuild clean build test -workspace MLMini.xcworkspace -scheme SchemeName -destination 'platform=iOS Simulator,name=iPhone 13 Mini, OS=15.2'